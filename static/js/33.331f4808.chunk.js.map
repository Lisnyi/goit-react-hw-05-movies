{"version":3,"file":"static/js/33.331f4808.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.styled.js","pages/MovieDetails/MovieDetails.jsx","shared/API/API.js","shared/components/MoviesList/MoviesList.styled.js","shared/components/MoviesList/MoviesList.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const GoBackButton = styled.button`\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n`\n\nexport const DetailsBox = styled.div`\n    display: flex;\n    padding-bottom: 5px;\n    box-shadow: 0px 5px 4px -2px rgba(0,0,0,0.6);\n\n    ul {\n        list-style: none;\n        padding: 0;\n        display: flex;\n        \n        li {\n            margin-right: 5px;\n\n            &:last-child {\n                margin-right: 0;\n            }\n        }\n    }\n\n    img {\n        width: 300px;\n        display: block;\n        margin-right: 15px;\n    }\n`\n\nexport const AdditionalInformationBox = styled.div`\n    box-shadow: 0px 5px 4px -2px rgba(0,0,0,0.6);\n    padding-bottom: 15px;\n\n    ul {\n        margin: 0;\n    }\n\n    li {\n        margin-bottom: 5px;\n\n        &:last-child {\n            margin-bottom: 0;\n        }\n    }\n`","import { Outlet, useParams, Link, useNavigate, useLocation} from \"react-router-dom\"\nimport { useState, useEffect, Suspense } from \"react\"\nimport { IoArrowBack } from \"react-icons/io5\";\nimport { API } from \"shared\"\nimport noposter from '../../images/noposter.jpg'\nimport { GoBackButton, DetailsBox, AdditionalInformationBox } from \"./MovieDetails.styled\";\n\nconst { getMovieDetails } = API\n\nexport default function MovieDetails() {\n    const [moviesDetails, setMoviesDetails] = useState({})\n    const [loader, setLoader] = useState(false)\n    const [error, setError] = useState(null)\n\n    const { movieId } = useParams()\n    const navigate = useNavigate()\n    const location = useLocation()\n    const from = location.state?.from || '/'\n\n\n    useEffect(()=>{\n        async function fetchMovieDetails () {\n            try {\n                setLoader(true)\n                setError(null)\n                setMoviesDetails({})\n                const {data} = await getMovieDetails(movieId)\n                setMoviesDetails(data)\n                return\n              } catch (e) {\n                setMoviesDetails({})\n                setError('Whoops something went wrong')\n              } finally {\n                setLoader(false)\n              }\n        }\n\n        fetchMovieDetails()\n    },[movieId])\n\n    const { original_title, release_date, poster_path, vote_average, overview, genres } = moviesDetails\n    const isDetails = Boolean(Object.keys(moviesDetails).length)\n    const userScore = Number((vote_average*10).toFixed())\n    const imageURL = poster_path ? `https://image.tmdb.org/t/p/w300${poster_path}` : noposter\n    const getYear = () => new Date(release_date).getFullYear();\n    \n    function changePagePath (page) {\n        let path = `/movies/${movieId}`\n        if (location.pathname.includes(`${page}`)) {\n            return path\n        }\n        switch (page) {\n            case \"cast\":\n                path =  `/movies/${movieId}/cast`\n                break\n            case \"reviews\":\n                path = `/movies/${movieId}/reviews`\n                break\n            default: path = `/movies/${movieId}`\n        }\n        return path\n    }\n    \n    const goBack = () => navigate(from)\n\n    return (\n            <> \n                <GoBackButton type=\"button\" onClick={goBack}><IoArrowBack/>Go back</GoBackButton>\n                {loader && <p>Loading...</p>}\n                {error && <p>{error}</p>}\n                {isDetails && <div>\n                                    <DetailsBox>\n                                        <img src={imageURL} alt={original_title} />\n                                        <div>\n                                            <h2>{original_title} {release_date && `(${getYear()})`}</h2>\n                                            {userScore !== 0 && <p>User Score: {userScore}%</p>}\n                                            <h3>Overview</h3>\n                                            <p>{overview}</p>\n                                            {genres.length > 0 &&   <>\n                                                                        <h4>Ganres</h4>\n                                                                        <ul>\n                                                                            {genres.map(genre => (\n                                                                                <li key={genre.id}>{genre.name}</li>\n                                                                            ))}\n                                                                        </ul>\n                                                                    </>}\n                                        </div>\n                                    </DetailsBox>\n                                    <AdditionalInformationBox>\n                                        <h5>Additional information</h5>\n                                        <ul>\n                                            <li><Link state={{from: from}} to={changePagePath('cast')}>Cast</Link></li>\n                                            <li><Link state={{from: from}} to={changePagePath('reviews')}>Reviews</Link></li>\n                                        </ul>\n                                    </AdditionalInformationBox>\n                                    <Suspense fallback={<p>Loading...</p>}>\n                                        <Outlet/>\n                                    </Suspense>\n                                </div>}\n            </>\n    )\n}\n","import axios from \"axios\"\n\nconst KEY = '2acc48bc8101b89794229029120e4b70'\nconst BASE_URL = 'https://api.themoviedb.org/3/'\n\nasync function getTrendingMovies (page=1) {\n    const response = await axios.get(`${BASE_URL}trending/movie/day?api_key=${KEY}&page=${page}`)\n    return response\n}\n\nasync function getMovieByKeyword (keyword, page=1) {\n    const response = await axios.get(`${BASE_URL}search/movie?api_key=${KEY}&query=${keyword}&page=${page}`)\n    return response\n}\n\nasync function getMovieDetails (movie_id) {\n    const response = await axios.get(`${BASE_URL}movie/${movie_id}?api_key=${KEY}`)\n\n    return response\n}\n\nasync function getMovieCredits (movie_id) {\n    const response = await axios.get(`${BASE_URL}movie/${movie_id}/credits?api_key=${KEY}`)\n    return response\n}\n\nasync function getMovieReviews (movie_id) {\n    const response = await axios.get(`${BASE_URL}movie/${movie_id}/reviews?api_key=${KEY}`)\n    return response\n}\n\nconst API = {\n    getTrendingMovies,\n    getMovieByKeyword,\n    getMovieDetails,\n    getMovieCredits,\n    getMovieReviews\n}\n\nexport default API","import styled from \"styled-components\";\n\nconst ListOfMovies = styled.ul`\n    display: flex;\n    flex-direction: column;\n    margin: 0;\n\n    li {\n        margin-bottom: 4px;\n\n        &:last-child{\n            margin-bottom: 0;\n        }\n    }\n`\n\nexport default ListOfMovies","import { Link, useLocation } from \"react-router-dom\"\nimport PropTypes from 'prop-types'\nimport ListOfMovies from \"./MoviesList.styled\"\n\nexport default function MoviesList({moviesList}) {\n  const location = useLocation()\n  return (\n    <ListOfMovies>\n        {moviesList.map(({id, original_title}) =>\n            (<li key={id}>\n                <Link state={{from: location}} to={`/movies/${id}`} >{original_title}</Link>\n            </li>))}\n    </ListOfMovies>\n  )\n}\n\nMoviesList.propTypes = {\n  moviesList: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    original_title: PropTypes.string.isRequired\n  }))\n}\n"],"names":["GoBackButton","styled","DetailsBox","AdditionalInformationBox","getMovieDetails","API","MovieDetails","useState","moviesDetails","setMoviesDetails","loader","setLoader","error","setError","movieId","useParams","navigate","useNavigate","location","useLocation","from","state","useEffect","data","fetchMovieDetails","original_title","release_date","poster_path","vote_average","overview","genres","isDetails","Boolean","Object","keys","length","userScore","Number","toFixed","imageURL","noposter","changePagePath","page","path","pathname","includes","type","onClick","src","alt","Date","getFullYear","map","genre","name","id","to","Suspense","fallback","KEY","BASE_URL","getTrendingMovies","axios","response","getMovieByKeyword","keyword","movie_id","getMovieCredits","getMovieReviews","MoviesList","moviesList"],"sourceRoot":""}